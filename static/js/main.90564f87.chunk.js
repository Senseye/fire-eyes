(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t){},102:function(e,t){},135:function(e,t){},136:function(e,t){},182:function(e,t){},183:function(e,t){},184:function(e,t){},185:function(e,t,n){"use strict";n.r(t);var a=n(8),i=n.n(a),o=n(80),r=n.n(o);n(93),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(41),s=n.n(c),u=n(81),d=n(82),f=n(83),v=n(85),h=n(84),l=n(87),m=n(86),p=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).videoRef=i.a.createRef(),n.canvasRef=i.a.createRef(),n}return Object(l.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.setupCamera(),this.decorateCameraVideo()}},{key:"setupCamera",value:function(){var e=this.videoRef.current;e&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:{ideal:"environment"}}}).then(function(t){e.srcObject=t},console.error)}},{key:"decorateCameraVideo",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t,n,a,i=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a();case 2:t=e.sent,n=this.videoRef.current,a=this.canvasRef.current,function e(){requestAnimationFrame(e);var o=a.getContext("2d");n&&o&&n.readyState===n.HAVE_ENOUGH_DATA&&t.estimateSinglePose(n).then(function(e){var t=e.keypoints,a=t.find(function(e){return"leftEye"===e.part}),r=t.find(function(e){return"rightEye"===e.part});o&&a&&r&&(o.drawImage(n,0,0),i.drawEmojiOn(a.position.x,a.position.y),i.drawEmojiOn(r.position.x,r.position.y))})}();case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"drawEmojiOn",value:function(e,t){var n=this.canvasRef.current.getContext("2d");n.font="32px serif",n.strokeText("\ud83d\udd25",e-16,t+16)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("canvas",{ref:this.canvasRef,id:"canvas",width:640,height:480,style:{maxWidth:"100%",width:"100%",height:"auto"}}),i.a.createElement("video",{ref:this.videoRef,id:"video",autoPlay:!0,width:640,height:480,style:{display:"none"}}))}}]),t}(a.Component);r.a.render(i.a.createElement(function(){return i.a.createElement(p,null)},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},88:function(e,t,n){e.exports=n(185)},93:function(e,t,n){}},[[88,2,1]]]);
//# sourceMappingURL=main.90564f87.chunk.js.map